<%= form_for [@user, @filer, @report], :html => { :class => 'form-horizontal' } do |f| %>
  <fieldset>
    <legend><%= controller.action_name.capitalize %> Report</legend>

    <% if @report.errors.any? %>
      <div id="error_explanation">
        <h2><%= pluralize(@report.errors.count, "error") %> prohibited this report from being saved:</h2>

        <ul>
        <% @report.errors.full_messages.each do |msg| %>
          <li><%= msg %></li>
        <% end %>
        </ul>
      </div>
    <% end %>

    <div class="controls">
      <span class="help-block">Report type</span>
    </div>
    <div class="span4">
      <div class="control-group">
        <div class="controls">
          <%= f.label "January 15th", :class => 'checkbox' do %>
            <%= f.check_box :january_15, :class => 'check_box' %> January 15th
          <% end %>

          <%= f.label "July 15th", :class => 'checkbox' do %>
            <%= f.check_box :july_15, :class => 'check_box' %> July 15th
          <% end %>

          <%= f.label "30th day before election", :class => 'checkbox' do %>
            <%= f.check_box :election_30_day, :class => 'check_box' %> Election 30 day
          <% end %>

          <%= f.label "8th day before election", :class => 'checkbox' do %>
            <%= f.check_box :election_8_day, :class => 'check_box' %> Election 8 day
          <% end %>
        </div>
      </div>
    </div>

    <div class="span4">
      <div class="control-group">
        <div class="controls">
          <%= f.label :run_off, :class => 'checkbox' do %>
            <%= f.check_box :run_off, :class => 'check_box' %> Run off
          <% end %>

          <%= f.label "Exceeded $500 limit", :class => 'checkbox' do %>
            <%= f.check_box :exceeded_500_limit, :class => 'check_box' %> Exceeded $500 limit
          <% end %>

          <%= f.label "15th day after campaign treasurer appointment", :class => 'checkbox' do %>
            <%= f.check_box :treasurer_appointment, :class => 'check_box' %> Treasurer appointment
          <% end %>

          <%= f.label :final, :class => 'checkbox' do %>
            <%= f.check_box :final, :class => 'check_box' %> Final
          <% end %>
        </div>
      </div>
    </div>

    <div class="control-group">
      <%= f.label "Period begin", :class => 'control-label' %>
      <div class="controls">
        <%= f.date_select :period_begin, {:prompt => { :day => 'Select day', 
                                                       :month => 'Select month', 
                                                       :year => 'Select year' }, 
                                                       :start_year => Time.now.year - 1,
                                                       :end_year => Time.now.year + 1},
                                                       {:class => 'date_select'}  %>
      </div>
    </div>

    <div class="control-group">
      <%= f.label "Period end", :class => 'control-label' %>
      <div class="controls">
        <%= f.date_select :period_end, {:prompt => { :day => 'Select day', 
                                                       :month => 'Select month', 
                                                       :year => 'Select year' }, 
                                                       :start_year => Time.now.year - 1,
                                                       :end_year => Time.now.year + 1},
                                                       {:class => 'date_select'}  %>
      </div>
    </div>

    <div class="control-group">
      <%= f.label "Election date", :class => 'control-label' %>
      <div class="controls">
        <%= f.date_select :election_date, {:prompt => { :day => 'Select day', 
                                                       :month => 'Select month', 
                                                       :year => 'Select year' }, 
                                                       :start_year => Time.now.year - 1,
                                                       :end_year => Time.now.year + 1},
                                                       {:class => 'date_select'}  %>
      </div>
    </div>

    <div class="control-group">
      <%= f.label "Election type", :class => 'control-label' %>
      <div class="controls">
        <%= f.select(:election_type, Report.election_types) %> 
      </div>
    </div>

    <div class="control-group">
      <%= f.label "Office held", :class => 'control-label' %>
      <div class="controls">
        <%= f.text_field :office_held, :class => 'text_field' %>
      </div>
    </div>

    <div class="control-group">
      <%= f.label "Office sought", :class => 'control-label' %>
      <div class="controls">
        <%= f.text_field :office_sought, :class => 'text_field' %>
      </div>
    </div>

    <div class="form-actions">
      <%= f.submit nil, :class => 'btn btn-primary' %>
      <%= link_to 'Cancel', root_path, :class => 'btn' %>
    </div>

  </fieldset>
<% end %>

<% content_for(:sidebar) do %>
    <h2>Report details</h2>
    <p>Please use this page to manage your report details.</p>
<% end %>

